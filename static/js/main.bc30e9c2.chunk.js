(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1NwER","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1iohG"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__eRKEW",Modal:"Modal_Modal__Dl96m"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1MalC"}},15:function(e,t,a){e.exports={Button:"Button_Button__2bMr4"}},16:function(e,t,a){e.exports={App:"App_App__3o0_6"}},22:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),o=a(4),l=a.n(o),i=(a(22),a(12)),s=a(3),u=a(7),m=a(13),b=a.n(m),j=a(5),h=a.n(j);function g(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),o=r[0],l=r[1];return Object(c.jsx)("header",{className:h.a.Searchbar,children:Object(c.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?t(o):u.b.error("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441")},children:[Object(c.jsx)("button",{type:"submit",className:h.a["SearchForm-button"],children:Object(c.jsx)("span",{className:h.a["SearchForm-button-label"],children:"Search"})}),Object(c.jsx)("input",{className:h.a["SearchForm-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){l(e.currentTarget.value)}})]})})}var d=a(10),O=a.n(d);function p(e){var t=e.images,a=e.onClick;return t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL;return Object(c.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(c.jsx)("img",{src:n,alt:r,className:O.a["ImageGalleryItem-image"],onClick:a})},t)}))}var f=a(14),_=a.n(f);function S(e){var t=e.images,a=e.onClick;return Object(c.jsx)("ul",{className:_.a.ImageGallery,children:Object(c.jsx)(p,{images:t,onClick:a})})}var x=a(15),v=a.n(x);function I(e){var t=e.onClick;return Object(c.jsx)("button",{type:"button",className:v.a.Button,onClick:t,children:"Load more"})}var y=a(11),k=a.n(y);function F(e){var t=e.largeImg,a=e.onClick;return Object(c.jsx)("div",{className:k.a.Overlay,onClick:a,children:Object(c.jsx)("div",{className:k.a.Modal,children:Object(c.jsx)("img",{src:t,alt:""})})})}var C={fetchImages:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("18971005-ed9d64a9f1a2bb3296a1c2dd7","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(e)))}))}},G=a(16),N=a.n(G);a(44),a(45);function w(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(1),l=Object(s.a)(o,2),m=l[0],j=l[1],h=Object(n.useState)([]),d=Object(s.a)(h,2),O=d[0],p=d[1],f=Object(n.useState)(null),_=Object(s.a)(f,2),x=_[0],v=_[1],y=Object(n.useState)("idle"),k=Object(s.a)(y,2),G=k[0],w=k[1],M=Object(n.useState)(!1),B=Object(s.a)(M,2),E=B[0],T=B[1],A=Object(n.useState)(null),D=Object(s.a)(A,2),R=D[0],H=D[1],L=Object(n.useState)(0),U=Object(s.a)(L,2),J=U[0],V=U[1];Object(n.useEffect)((function(){""!==a&&"idle"===G&&(w("pending"),q()),0===O.length&&"resolved"===G&&u.b.info("\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 '".concat(a,"' \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))}),[O.length,G,a]);var q=function(){C.fetchImages(a,m).then((function(e){p([].concat(Object(i.a)(O),Object(i.a)(e.hits))),j(m+1),V(e.total)})).then((function(){w("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){v(e),w("rejected")}))};return Object(c.jsxs)("div",{className:N.a.App,children:[Object(c.jsx)(u.a,{autoClose:3e3}),Object(c.jsx)(g,{onSubmit:function(e){r(e),w("idle"),p([]),j(1),V(0)}}),Object(c.jsx)(S,{images:O,onClick:function(e){var t=e.currentTarget.alt;T((function(e){return!e})),H(t)}}),"pending"===G&&Object(c.jsx)(b.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100}),O.length>0&&O.length<J&&Object(c.jsx)(I,{onClick:function(){w("pending"),q()}}),"rejected"===G&&Object(c.jsx)("div",{children:x}),E&&Object(c.jsx)(F,{largeImg:R,onClick:function(e){"IMG"!==e.target.nodeName&&T((function(e){return!e}))}})]})}l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3vHiD",SearchForm:"Searchbar_SearchForm__2F82T","SearchForm-button":"Searchbar_SearchForm-button__1SV6Z","SearchForm-button-label":"Searchbar_SearchForm-button-label__IrrHi","SearchForm-input":"Searchbar_SearchForm-input__1TVU3"}}},[[46,1,2]]]);
//# sourceMappingURL=main.bc30e9c2.chunk.js.map