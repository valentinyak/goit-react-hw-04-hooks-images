{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/pixabay-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","serchQuery","setSerchQuery","className","s","SearchForm","e","preventDefault","trim","toast","error","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","ImageGalleryItem","images","onClick","map","id","webformatURL","largeImageURL","src","alt","ImageGallery","Button","Modal","largeImg","Overlay","pixabayAPI","fetchImages","query","page","fetch","then","response","ok","json","Promise","reject","Error","App","currentPage","setCurrentPage","setImages","setError","status","setStatus","showModal","setShowModal","openedImg","setOpenedImg","totalImages","setTotalImages","useEffect","makeFetch","length","info","parsedResponse","hits","total","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","autoClose","color","height","width","target","nodeName","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bc30e9c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1NwER\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1iohG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__eRKEW\",\"Modal\":\"Modal_Modal__Dl96m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1MalC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2bMr4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3o0_6\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [serchQuery, setSerchQuery] = useState('');\n\n  const handleSearchQueryChange = e => {\n    setSerchQuery(e.currentTarget.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (serchQuery.trim() === '') {\n      toast.error('Вы не ввели поисковой запрос');\n      return;\n    }\n\n    onSubmit(serchQuery);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s['SearchForm-button']}>\n          <span className={s['SearchForm-button-label']}>Search</span>\n        </button>\n\n        <input\n          className={s['SearchForm-input']}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={serchQuery}\n          onChange={handleSearchQueryChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ images, onClick }) {\n  return images.map(({ id, webformatURL, largeImageURL }) => {\n    return (\n      <li className={s.ImageGalleryItem} key={id}>\n        <img\n          src={webformatURL}\n          alt={largeImageURL}\n          className={s['ImageGalleryItem-image']}\n          onClick={onClick}\n        />\n      </li>\n    );\n  });\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      <ImageGalleryItem images={images} onClick={onClick} />\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nexport default function Modal({ largeImg, onClick }) {\n  return (\n    <div className={s.Overlay} onClick={onClick}>\n      <div className={s.Modal}>\n        <img src={largeImg} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  largeImg: PropTypes.string,\n  onClick: PropTypes.func,\n};\n","const KEY = '18971005-ed9d64a9f1a2bb3296a1c2dd7';\n\nfunction fetchImages(query, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`Нет результатов по запросу ${query}`));\n  });\n}\n\nconst pixabayAPI = { fetchImages };\n\nexport default pixabayAPI;\n","import React, { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport pixabayAPI from './services/pixabay-api';\n\nimport s from './App.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function App() {\n  const [serchQuery, setSerchQuery] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [openedImg, setOpenedImg] = useState(null);\n  const [totalImages, setTotalImages] = useState(0);\n\n  useEffect(() => {\n    if (serchQuery !== '' && status === 'idle') {\n      setStatus('pending');\n      makeFetch();\n    }\n\n    if (images.length === 0 && status === 'resolved') {\n      toast.info(`По запросу '${serchQuery}' ничего не найдено`);\n    }\n  }, [images.length, status, serchQuery]);\n\n  const handleFormSubmit = serchQuery => {\n    setSerchQuery(serchQuery);\n    setStatus('idle');\n    setImages([]);\n    setCurrentPage(1);\n    setTotalImages(0);\n  };\n\n  const handleBtnClick = () => {\n    setStatus('pending');\n    makeFetch();\n  };\n\n  const handleImgClick = e => {\n    const largeImg = e.currentTarget.alt;\n\n    setShowModal(showModal => !showModal);\n    setOpenedImg(largeImg);\n  };\n\n  const handleOverleyClick = e => {\n    if (e.target.nodeName !== 'IMG') {\n      setShowModal(showModal => !showModal);\n    }\n  };\n\n  const makeFetch = () => {\n    pixabayAPI\n      .fetchImages(serchQuery, currentPage)\n      .then(parsedResponse => {\n        setImages([...images, ...parsedResponse.hits]);\n        setCurrentPage(currentPage + 1);\n        setTotalImages(parsedResponse.total);\n      })\n      .then(() => {\n        setStatus('resolved');\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  };\n\n  return (\n    <div className={s.App}>\n      <ToastContainer autoClose={3000} />\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery images={images} onClick={handleImgClick} />\n\n      {status === 'pending' && (\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n      )}\n\n      {images.length > 0 && images.length < totalImages && (\n        <Button onClick={handleBtnClick} />\n      )}\n\n      {status === 'rejected' && <div>{error}</div>}\n\n      {showModal && <Modal largeImg={openedImg} onClick={handleOverleyClick} />}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3vHiD\",\"SearchForm\":\"Searchbar_SearchForm__2F82T\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1SV6Z\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__IrrHi\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1TVU3\"};"],"sourceRoot":""}